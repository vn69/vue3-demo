import{s as k,r as y,x as P,u as A,m as n,o as m,a as p,f as t,q as l,b as r,i as _,y as C,t as B,j as E,z as L,A as g,G as N,B as S}from"./index-8c51cf9d.js";const G={class:"w-50 m-auto p-5"},I=r("h4",{class:"text-center mb-3"},"Login Page",-1),U={class:"text-center"},W=["onClick"],M={key:0,class:"text-danger"},z={__name:"LoginPage",setup(j){const o=k({email:"",password:""}),s=y(""),u=P(),h=A(),w=()=>{if(!o.email||!o.password){s.value="Email or Password is not blank!";return}s.value="",f(o),console.log("submit!")},f=async a=>{try{const e=await L(g(),a.email,a.password);h.signInAuth(e),u.push("/about")}catch(e){s.value=e.message}finally{}},v=()=>{const a=new N;S(g(),a).then(e=>{console.log(e.user),u.push("/about")}).catch(e=>{console.log(e)})};return(a,e)=>{const c=n("el-input"),d=n("el-form-item"),b=n("el-button"),x=n("router-link"),V=n("el-form");return m(),p("div",G,[I,t(V,{model:o,"label-width":"120px"},{default:l(()=>[t(d,{label:"Email"},{default:l(()=>[t(c,{modelValue:o.email,"onUpdate:modelValue":e[0]||(e[0]=i=>o.email=i)},null,8,["modelValue"])]),_:1}),t(d,{label:"Password"},{default:l(()=>[t(c,{type:"password",modelValue:o.password,"onUpdate:modelValue":e[1]||(e[1]=i=>o.password=i),"show-password":""},null,8,["modelValue"])]),_:1}),r("div",U,[r("div",null,[t(b,{onClick:w,type:"primary"},{default:l(()=>[_("Login")]),_:1}),t(x,{class:"mx-2",to:"/register"},{default:l(()=>[_("register")]),_:1}),r("button",{onClick:C(v,["prevent"])},"Login with google",8,W)]),s.value?(m(),p("div",M,B(s.value),1)):E("",!0)])]),_:1},8,["model"])])}}};export{z as default};
